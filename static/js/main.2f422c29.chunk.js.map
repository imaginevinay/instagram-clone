{"version":3,"sources":["firebase.js","ImageUpload.js","Navbar.js","Post.js","App.js","reportWebVitals.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","display","flexDirection","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","root","chooseFile_button","ImageUpload","username","useState","caption","setcaption","progress","setprogress","image","setimage","classes","modalStyle","open","setOpen","handleClose","className","Button","variant","size","color","onClick","Modal","onClose","style","src","alt","Input","type","placeholder","onChange","e","target","value","files","max","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","err","console","log","alert","message","child","getDownloadURL","then","url","collection","add","timestamp","FieldValue","serverTimestamp","imageUrl","userName","Navbar","user","signIn","signUp","displayName","signOut","formatter","buildFormatter","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","Post","postId","timeStamp","comments","setcomments","comment","setcomment","useEffect","unsubscribe","doc","orderBy","onSnapshot","docs","map","data","Avatar","date","toDate","minPeriod","maxPeriod","text","preventDefault","disabled","margin","textAlign","App","posts","setPosts","email","setEmail","setUsername","password","setPassword","setuser","openSignIn","setopenSignIn","onAuthStateChanged","authUser","id","post","createUserWithEmailAndPassword","updateUser","updateProfile","window","location","reload","catch","signInWithEmailAndPassword","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f422c29.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyCDB0ULlw9XChy-QkNQdORZp8_WzFloDq4\",\r\n    authDomain: \"instagram-clone-react-5b90b.firebaseapp.com\",\r\n    databaseURL: \"https://instagram-clone-react-5b90b.firebaseio.com\",\r\n    projectId: \"instagram-clone-react-5b90b\",\r\n    storageBucket: \"instagram-clone-react-5b90b.appspot.com\",\r\n    messagingSenderId: \"496672111910\",\r\n    appId: \"1:496672111910:web:233ca74fa58481dbfbd5e7\",\r\n    measurementId: \"G-D8X359FMEW\"\r\n})\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport {db, auth, storage};","import React, { useState } from 'react'\r\nimport { Input, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { storage, db } from './firebase';\r\nimport firebase from 'firebase'\r\nimport './ImageUpload.css';\r\n\r\nfunction getModalStyle() {\r\n    const top = 50;\r\n    const left = 50;\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        position: 'absolute',\r\n        width: 400,\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    chooseFile_button: {\r\n        backgroundColor: '#0095f6',\r\n    }\r\n    \r\n}));\r\n\r\nfunction ImageUpload({ username }) {\r\n    const [caption, setcaption] = useState('');\r\n    const [progress, setprogress] = useState(0);\r\n    const [image, setimage] = useState(null);\r\n    const classes = useStyles();\r\n    const [modalStyle] = useState(getModalStyle);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setimage(e.target.files[0])\r\n        }\r\n    }\r\n    const handleUpload = () => {\r\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n        uploadTask.on('state_changed', (snapshot) => {\r\n            // progess function\r\n            const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            setprogress(progress);\r\n        }, err => {\r\n            // error function\r\n            console.log(err);\r\n            alert(err.message)\r\n        }, () => {\r\n            // on complete\r\n            storage.ref('images').child(image.name).getDownloadURL()\r\n                .then(url => {\r\n                    // post image in db\r\n                    db.collection('posts').add({\r\n                        caption: caption,\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                        imageUrl: url,\r\n                        userName: username\r\n                    })\r\n                    setprogress(0);\r\n                    setcaption('');\r\n                    setimage(null);\r\n                    handleClose();\r\n                })\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"image_upload\">\r\n            <Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.chooseFile_button}  onClick={handleOpen}>Add a new post</Button>\r\n            <Modal open={open} onClose={handleClose}>\r\n                <div style={modalStyle} className={classes.paper}>\r\n                    <center>\r\n                        <img src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\" className=\"app_header_img\" />\r\n                    </center>\r\n                    <Input className=\"caption\" type=\"text\" placeholder=\"Enter a caption...\" onChange={e => setcaption(e.target.value)} value={caption} />\r\n                    <div className=\"file_upload\">\r\n                        <Input classes={{root: classes.root}} type=\"file\" onChange={handleChange} />\r\n                        <progress className=\"progress_bar\" value={progress} max=\"100\" />\r\n                    </div>\r\n                    <div className=\"upload_button\">\r\n                        <Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.chooseFile_button} onClick={handleUpload}>Upload</Button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageUpload\r\n","import React from 'react'\r\nimport './Navbar.css'\r\nimport { Button } from '@material-ui/core';\r\nimport ImageUpload from './ImageUpload';\r\n\r\nfunction Navbar({ auth, user, signIn, signUp }) {\r\n    return (\r\n        <div className=\"nav\">\r\n            <img className=\"logo\" src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\" />\r\n\r\n            {user?.displayName ? (\r\n                <ImageUpload username={user.displayName} />\r\n            ):(\r\n                <p className=\"loginText\">You need to login to upload posts.</p>\r\n            )}\r\n            {user ? (\r\n                <Button onClick={() => auth.signOut()} >Logout</Button>\r\n            ) : (\r\n                    <div className=\"app_loginContainer\">\r\n                        <Button onClick={() => signIn(true)} >Sign In</Button>\r\n                        <Button onClick={() => signUp(true)} >Sign Up</Button>\r\n                    </div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Post.css'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { db } from './firebase';\r\nimport firebase from 'firebase';\r\nimport TimeAgo from 'react-timeago'\r\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter'\r\n\r\nvar strings = {\r\n    prefixAgo: null,\r\n    prefixFromNow: null,\r\n    suffixAgo: 'ago',\r\n    suffixFromNow: 'from now',\r\n    seconds: '%d sec',\r\n    minute: '1 m',\r\n    minutes: '%d m',\r\n    hour: '1 h',\r\n    hours: '%d h',\r\n    day: '1 d',\r\n    days: '%d d',\r\n    month: '1 mo',\r\n    months: '%d mos',\r\n    year: '1 y',\r\n    years: '%d ys',\r\n    wordSeparator: ' '\r\n};\r\n\r\nconst formatter = buildFormatter(strings)\r\n\r\nfunction Post({ user, postId, userName, caption, imageUrl, timeStamp }) {\r\n    const [comments, setcomments] = useState([]);\r\n    const [comment, setcomment] = useState('');\r\n    useEffect(() => {\r\n        let unsubscribe;\r\n        if (postId) {\r\n            unsubscribe = db\r\n                .collection('posts')\r\n                .doc(postId)\r\n                .collection('comments')\r\n                .orderBy('timestamp', 'desc')\r\n                .onSnapshot(snapshot => {\r\n                    setcomments(snapshot.docs.map(doc => doc.data()))\r\n                })\r\n        }\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        }\r\n    }, [postId])\r\n    const postComment = (e) => {\r\n        e.preventDefault();\r\n        db.collection('posts').doc(postId).collection('comments').add({\r\n            text: comment,\r\n            userName: user.displayName,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setcomment('')\r\n    }\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"post_header\">\r\n                <div className=\"header_text\">\r\n                    <Avatar className=\"post_avatar\" alt={userName} src=\"/static/images/avatar/1.jpg\" />\r\n                    <h3 className=\"heading\">{userName}</h3>\r\n                </div>\r\n                <div>\r\n                    {timeStamp ? (\r\n                        <span className=\"time_stamp postTimeStamp\">\r\n                            <TimeAgo date={timeStamp.toDate()} formatter={formatter} minPeriod={60} maxPeriod={60} />\r\n                        </span>\r\n                    ) : (\r\n                            <span></span>\r\n                        )}\r\n                </div>\r\n            </div>\r\n            <img className=\"post_image\" alt=\"\" src={imageUrl} />\r\n            <h4 className=\"post_caption\"><strong>{userName} :</strong> {caption}</h4>\r\n            <div className=\"commentSection\">\r\n                {comments.map(comment => (\r\n                    <div className=\"commentBoxMain\">\r\n                        <div className=\"commentBox_avatar\">\r\n                            <Avatar className=\"post_avatar\" alt={comment.userName} src=\"/static/images/avatar/1.jpg\" />\r\n                        </div>\r\n                        <div className=\"commentTextSection\">\r\n                            <div className=\"commentContainer\">\r\n                                <strong>{comment.userName}</strong><p className=\"user_comment\">{comment.text}</p>\r\n                            </div>\r\n                            {comment?.timestamp ? (<span className=\"time_stamp\"><TimeAgo date={comment.timestamp.toDate()} formatter={formatter} minPeriod={60} maxPeriod={60} /></span>) : (\r\n                                <span></span>\r\n                            )}\r\n\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {user?.displayName ? (\r\n                <form className=\"comments_box\">\r\n                    <input className=\"post_comments\" type=\"text\" placeholder=\"Add comments ...\" value={comment} onChange={(e) => { setcomment(e.target.value) }} />\r\n                    <button className=\"post_button\" type=\"submit\" onClick={postComment} disabled={!comment}>Post</button>\r\n                </form>\r\n\r\n            ) : (\r\n                    <span></span>\r\n                )}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post\r\n","import './App.css';\nimport Navbar from './Navbar';\nimport Post from './Post';\nimport { useState, useEffect } from 'react'\nimport { db, auth } from './firebase';\nimport { Modal, Button, Input } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\n// import InstagramEmbed from 'react-instagram-embed';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  margin: {\n    backgroundColor: '#0095f6',\n    margin: '10px auto',\n    width: '50%',\n    textAlign: 'center'\n  },\n}));\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\n\nfunction App() {\n  const classes = useStyles();\n  const [posts, setPosts] = useState([]);\n  const [modalStyle] = useState(getModalStyle);\n  const [email, setEmail] = useState('');\n  const [userName, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setuser] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [openSignIn, setopenSignIn] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        // user logged in...\n        setuser(authUser);\n      } else {\n        setuser(null)\n      }\n      return () => {\n        unsubscribe();\n      }\n    })\n  }, [user, userName])\n\n  useEffect(() => {\n    db.collection('posts').orderBy('timestamp', 'desc').onSnapshot(snapshot => {\n      setPosts(snapshot.docs.map(doc => ({\n        id: doc.id,\n        post: doc.data()\n      })))\n    })\n    //onSnapshot -> every single time a change happens in firebase firestore db this query will fire\n  }, [])\n\n  const signUp = (e) => {\n    e.preventDefault();\n    auth.createUserWithEmailAndPassword(email, password)\n      .then(authUser => {\n        const updateUser = authUser.user.updateProfile({\n          displayName: userName\n        })\n\n        console.log('updated user', updateUser);\n        window.location.reload(false);\n        return updateUser\n      }).catch(err => alert(err.message));\n\n    setOpen(false);\n  }\n\n  const signIn = (e) => {\n    e.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch(err => alert(err.message))\n    setopenSignIn(false)\n  }\n\n\n  return (\n    <div className=\"app\">\n      <Modal open={open} onClose={() => { setOpen(false) }}>\n        <div style={modalStyle} className={classes.paper}>\n         \n            <center>\n              <img src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\" className=\"app_header_img\" />\n            </center>\n            <form className=\"app_signUp\">\n            <Input placeholder=\"Username\" type=\"text\" value={userName} onChange={(e) => setUsername(e.target.value)} />\n\n            <Input placeholder=\"Email\" type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)} />\n\n            <Input placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n\n            <Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.margin} type=\"submit\" onClick={signUp} >Sign Up</Button>\n          </form>\n        </div>\n      </Modal>\n      <Modal open={openSignIn} onClose={() => { setopenSignIn(false) }}>\n        <div style={modalStyle} className={classes.paper}>\n          <center>\n            <img src=\"https://instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\" alt=\"\" className=\"app_header_img\" />\n          </center>\n          <form className=\"app_signUp\">\n            <Input placeholder=\"Email\" type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)} />\n            <Input placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n            <Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.margin}  type=\"submit\" onClick={signIn} >Sign In</Button>\n          </form>\n        </div>\n      </Modal>\n      <Navbar auth={auth} user={user} signIn={setopenSignIn} signUp={setOpen}/>\n      <div className=\"app_posts\">\n        <div className=\"app_posts_left\">\n          {\n            posts.map(({ id, post }) => (\n              <Post user={user} postId={id} key={id} imageUrl={post.imageUrl} userName={post.userName} caption={post.caption} timeStamp= {post.timestamp} />\n            ))\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}